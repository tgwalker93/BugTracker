(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{38:function(e,t,a){e.exports=a(72)},60:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(18),r=a.n(l),i=a(11),o=a(12),u=a(21),c=a(14),d=a(13),g=a(7),m=a(9),h=function(e){return s.a.createElement("div",Object.assign({className:e.size.split(" ").map((function(e){return"col-"+e})).join(" ")},e),e.children)},p=function(e){return s.a.createElement("div",Object.assign({id:e.id,className:"container".concat("true"===e.fluid?"-fluid":"")},e),e.children)},b=function(e){return s.a.createElement("div",Object.assign({className:"row".concat(e.fluid?"-fluid":"")},e),e.children)},f=function(e){return s.a.createElement("div",{className:e.formgroupclass},s.a.createElement("input",Object.assign({className:"form-control"},e)),"true"===e.isvalid?"":s.a.createElement("span",{className:"help-block"},e.fielderror))},E=function(e){return s.a.createElement("button",Object.assign({},e,{className:"btn btn-pill btn-light btn-lg"}),e.children)},B=function(e){return s.a.createElement("div",{className:e.formgroupclass},s.a.createElement("label",{htmlFor:"bugDescriptionField"},e.label),s.a.createElement("textarea",Object.assign({className:"form-control",id:"bugDescriptionField",rows:"5"},e)),"true"===e.isvalid?"":s.a.createElement("span",{className:"help-block"},e.fielderror))},v=a(20),C=a(17),N=a.n(C),I=function(){return console.log("i'm in API.js file, calling user"),N.a.get("/api/user")},T=function(e){return console.log("LoginAPI"),console.log(e),N.a.post("/api/user/login",e)},D=function(e){return console.log("I'm in the API file"),console.log(e),N.a.post("/api/user/saveUser",e)},w=function(e){return console.log("I'm in the API file"),console.log(e),N.a.post("/api/bug/saveBug",e)},A=function(e){return console.log("I'm in the API file"),console.log(e),N.a.post("/api/bug/updateBug",e)},S=function(e){return console.log("I'm in the API file"),console.log(e),N.a.post("/api/bug/deleteBug",e)},k=function(){return N.a.get("/api/bug/getAllBugs")},O=(a(60),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).formatInput=function(e){var t=e.target.getAttribute("name");n.setState(Object(m.a)({},t,e.target.value.trim()))},n.handleFormSubmit=function(e){e.preventDefault(),console.log("I'm in handle form submit"),console.log(n.state.emailAddress),n.state.loginButtonClicked?n.props._login(n.state.email,n.state.password):n.saveUser()},n.handleLoginButtonClick=function(e){e.preventDefault(),n.setState({loginOrCreateAccountButtonClicked:!0,loginButtonClicked:!0})},n.handleCreateAccountButtonClick=function(e){e.preventDefault(),n.setState({loginOrCreateAccountButtonClicked:!0,loginButtonClicked:!1})},n.createAccount=function(e){e.preventDefault(),n.setState({loginButtonClicked:!1})},n.state={firstName:"",lastName:"",emailAddress:"",password:"",phoneNumber:"",guestCount:"",formErrors:{firstName:"",lastName:"",emailAddress:"",phoneNumber:"",guestCount:"",password:""},redirectTo:null,firstNameValid:!1,lastNameValid:!1,passwordValid:!1,emailAddressValid:!1,phoneNumberValid:!1,guestCountValid:!1,loginOrCreateAccountButtonClicked:!1,loginButtonClicked:!0},n}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.id,e.target.value))}},{key:"validateFields",value:function(){var e=this,t=this.state.formErrors,a=this.state.emailAddressValid,n=this.state.firstNameValid,s=this.state.lastNameValid,l=this.state.phoneNumberValid,r=this.state.guestCountValid,i=this.state.passwordValid;null!==this.state.emailAddress.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)&&(a=!0),t.emailAddress=a?"":"Please provide a valid email",n=this.state.firstName.length>0,t.firstName=n?"":"Please provide your first name",s=this.state.lastName.length>0,t.lastName=s?"":"Please provide your last name",l=16===this.state.phoneNumber.length,t.phoneNumber=l?"":"Please provide a phone number",i=2===this.state.password.length,t.password=i?"":"Please provide a password",r=!0,""!==this.state.guestCount&&"Select"!==this.state.guestCount||(r=!1),t.guestCount=r?"":"Please provide guest count",this.setState({formErrors:t,emailAddressValid:a,firstNameValid:n,lastNameValid:s,phoneNumberValid:l,guestCountValid:r,passwordValid:i},(function(){e.setCookieAndChangePage()}))}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"formatPhone",value:function(e){if(null!=e){var t=e.state.phoneNumber.replace(/\D/g,"").substring(0,10),a={0:"(",3:") ",6:" - "};e.state.phoneNumber="";for(var n=0;n<t.length;n++)e.state.phoneNumber+=(a[n]||"")+t[n]}}},{key:"saveUser",value:function(){var e=this;console.log("HELLO?!?!!?!"),console.log(this.state.passwordValid+" passwordvalid?"),console.log("Called saveUser() from LandingPage  .... BELOW IS THE STATE"),console.log(this.state);var t={userId:null,username:this.state.emailAddress,password:this.state.password,email:this.state.emailAddress,user_email:this.state.email,firstName:this.state.firstName,lastName:this.state.lastName,user_address:this.state.address,user_city:this.state.city,user_state:this.state.state,user_zip:this.state.zip};D(t).then((function(a){a.data.error?e.setState({errorResponse:a}):(e.props._login(e.state.emailAddress,e.state.password,t),console.log("I WAS SUCCESSFUL FROM LANDING PAGE"))}))}},{key:"setCookieAndChangePage",value:function(){if(this.state.firstNameValid&&this.state.lastNameValid&&this.state.emailAddressValid&&this.state.phoneNumberValid&&this.state.guestCountValid){var e=new v.a,t={firstName:this.state.firstName.charAt(0).toUpperCase()+this.state.firstName.slice(1),lastName:this.state.lastName.charAt(0).toUpperCase()+this.state.lastName.slice(1),emailAddress:this.state.emailAddress,phoneNumber:this.state.phoneNumber,guestCount:this.state.guestCount};e.set("demo-requested",t,{path:"/"}),this.props.history.push("/thank-you")}}},{key:"componentDidMount",value:function(){console.log("component has mounted"),console.log(this)}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.redirectTo?(console.log("THIS . PROPS. REDIRECT EXISTS IN LANDING PAGE!!!"),console.log(this.props.redirectTo),s.a.createElement(g.a,{to:{pathname:this.props.redirectTo}})):s.a.createElement(p,{id:"container",fluid:"true"},s.a.createElement(b,{id:"mainRow"},s.a.createElement("hr",{id:"hline"}),s.a.createElement(h,{id:"formCol",size:"sm-6"},s.a.createElement("h1",null,"BugSlayer"),this.state.loginOrCreateAccountButtonClicked?s.a.createElement("div",null,this.state.loginButtonClicked?s.a.createElement("h1",{id:"formHeader"},"Login"):s.a.createElement("h1",{id:"formHeader"},"Create Account"),s.a.createElement("form",null,this.state.loginButtonClicked?"":s.a.createElement("div",null,s.a.createElement("p",null,"First Name"),s.a.createElement(f,{onBlur:this.formatInput.bind(this),isvalid:this.state.firstNameValid.toString(),fielderror:this.state.formErrors.firstName,formgroupclass:"form-group ".concat(this.errorClass(this.state.formErrors.firstName)),value:this.state.firstName,id:"firstName",onChange:this.handleChange.bind(this),name:"firstName"}),s.a.createElement("p",null,"Last Name"),s.a.createElement(f,{onBlur:this.formatInput.bind(this),isvalid:this.state.lastNameValid.toString(),fielderror:this.state.formErrors.lastName,formgroupclass:"form-group ".concat(this.errorClass(this.state.formErrors.lastName)),value:this.state.lastName,id:"lastName",onChange:this.handleChange.bind(this),name:"lastName"})),s.a.createElement("p",null,"Email Address"),s.a.createElement(f,{onBlur:this.formatInput.bind(this),isvalid:this.state.emailAddressValid.toString(),fielderror:this.state.formErrors.emailAddress,formgroupclass:"form-group ".concat(this.errorClass(this.state.formErrors.emailAddress)),value:this.state.emailAddress,id:"emailAddress",onChange:this.handleChange.bind(this),name:"emailAddress"}),s.a.createElement("p",null,"Password"),s.a.createElement(f,{onBlur:this.formatInput.bind(this),isvalid:this.state.passwordValid.toString(),fielderror:this.state.formErrors.password,formgroupclass:"form-group ".concat(this.errorClass(this.state.formErrors.password)),value:this.state.password,id:"password",onChange:this.handleChange.bind(this),name:"password"}),s.a.createElement(E,{onClick:this.handleFormSubmit.bind(this)}," Submit "),this.state.loginButtonClicked?s.a.createElement("h3",{id:"formFooterLink",onClick:this.handleCreateAccountButtonClick.bind(this)},"Create Account instead?"):s.a.createElement("h3",{id:"formFooterLink",onClick:this.handleLoginButtonClick.bind(this)},"Login instead?"))):s.a.createElement("div",null,s.a.createElement(E,{onClick:this.handleLoginButtonClick.bind(this)}," Login "),s.a.createElement(E,{onClick:this.handleCreateAccountButtonClick.bind(this)}," Create Account ")))))}}]),a}(n.Component)),V=Object(g.g)(O),j=(a(67),a(68),a(16)),y=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).delta=function(){n.setState({count:n.state.count+1})},n.formatInput=function(e){var t=e.target.getAttribute("name");n.setState(Object(m.a)({},t,e.target.value.trim()))},n.handleFormSubmit=function(e){e.preventDefault(),n.validateFields()},n.saveNewBugInDB=function(){var e={id:n.state.bugData.length,mongoID:n.state.bugData.length,currentBugIndex:n.state.bugData.length,bugTitle:n.state.bugTitleInModal,bugDescription:n.state.bugDescriptionInModal};w(e).then((function(t){t.data.error?n.setState({errorResponse:t}):(console.log("I WAS SUCCESSFUL Saving Bug FROM Bug View PAGE"),e.mongoID=t.data.doc._id,console.log(e),n.setState({showModal:!1}),n.state.bugData.push(e),n.forceUpdate())}))},n.updateBugInDB=function(){A(n.state.selectedBug).then((function(e){e.data.error?n.setState({errorResponse:e}):(console.log("I WAS SUCCESSFUL Saving Bug FROM Bug View PAGE"),n.setState({showModal:!1}),n.state.bugData[n.state.currentBugIndex]=n.state.selectedBug,n.forceUpdate())}))},n.updateOrCreateBug=function(){n.state.isNewBug?n.saveNewBugInDB():(n.state.bugData[n.state.currentBugIndex].bugTitle=n.state.bugTitleInModal,n.state.bugData[n.state.currentBugIndex].bugDescription=n.state.bugDescriptionInModal,n.setState({selectedBug:n.state.bugData[n.state.currentBugIndex]}),n.updateBugInDB())},n.closeModal=function(){n.setState({showModal:!1,bugTitleInModal:"",bugDescriptionInModal:""})},n.createNewBugButton=function(){n.setState({showModal:!0,currentModalTitle:"Create Bug",isNewBug:!0,bugTitleInModal:"",bugDescriptionInModal:""})},n.state={firstName:"",lastName:"",emailAddress:"",password:"",phoneNumber:"",guestCount:"",formErrors:{firstName:"",lastName:"",emailAddress:"",phoneNumber:"",guestCount:"",password:""},firstNameValid:!1,lastNameValid:!1,passwordValid:!1,emailAddressValid:!1,phoneNumberValid:!1,guestCountValid:!1,isLogin:!0,isNewBug:!1,selectedBug:"",currentModalTitle:"Edit Bug",currentBugIndex:0,showModal:!1,showModal2:!1,sampleBugViewTableData:[{id:"1",bugTitle:"Title A",bugDescription:"Test A"},{id:"2",bugTitle:"Title B",bugDescription:"Test B"},{id:"3",bugTitle:"Title C",bugDescription:"Test C"}],bugData:[],bugTitleInModal:"",bugDescriptionInModal:""},n}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.id,e.target.value))}},{key:"validateFields",value:function(){}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"getBugsFromDB",value:function(){var e=this;k().then((function(t){if(t.data.error)e.setState({errorResponse:t});else{console.log("SUCCESSFULLY GOT BUGS FROM DB");for(var a=[],n=0;n<t.data.length;n++)console.log("bug "+n),a.push({mongoID:t.data[e.state.currentBugIndex]._id,id:e.state.currentBugIndex,bugTitle:t.data[e.state.currentBugIndex].bugTitle,bugDescription:t.data[e.state.currentBugIndex].bugDescription}),e.setState({currentBugIndex:e.state.currentBugIndex+1}),console.log(a);e.setState({bugData:a}),console.log("IF IM HEre THEN THE DATA JUST UPDATED!!!!"),e.forceUpdate(),console.log("Here is bug data!"),console.log(a)}})).catch((function(e){return console.log(e)})),console.log("I am here")}},{key:"deleteBugInDB",value:function(e){var t=this;console.log("I'm in delete bug in DB method. Here is the bug that was clicked on"),console.log(e),S(e).then((function(a){if(a.data.error)t.setState({errorResponse:a});else{if(console.log("I WAS SUCCESSFUL DELETING THE Bug FROM Bug View PAGE. Here is the response."),console.log(a),a.data.deletedCount>0){var n=t.state.bugData.indexOf(e);n>-1&&t.state.bugData.splice(n,1)}else console.log("Deleting the bug failed for some reason!");t.forceUpdate()}}))}},{key:"editBugButton",value:function(e){console.log("Edit bug clicked on !!!"),console.log(e),this.setState({showModal:!0,currentModalTitle:"Edit Bug",currentBugIndex:e.id,bugTitleInModal:e.bugTitle,bugDescriptionInModal:e.bugDescription,isNewBug:!1,selectedBug:e})}},{key:"deleteBugButton",value:function(e){console.log("Delete Bug Clicked on!!! "),this.deleteBugInDB(e)}},{key:"componentDidMount",value:function(){console.log("Component Did Mount has been called"),this.getBugsFromDB()}},{key:"render",value:function(){var e=this;return s.a.createElement(p,{id:"containerViewBugs",fluid:"true"},s.a.createElement(b,{id:"mainRow"},s.a.createElement(h,{size:"sm-12"},s.a.createElement("div",{className:"jumbotron jumbotron-fluid"},s.a.createElement(p,{id:"container",fluid:"true"},s.a.createElement("h1",{className:"display-4 BugTrackerTitle"},"View Bugs"))),s.a.createElement("p",null,s.a.createElement("strong",null,"Assignee ")," "),s.a.createElement("select",null,s.a.createElement("option",{value:""}),s.a.createElement("option",{value:"Tyler"},"Tyler"),s.a.createElement("option",{value:"Brian"},"Tawny"),s.a.createElement("option",{value:"Brian"},"Anthony"),s.a.createElement("option",{value:"Brian"},"Arthur")),s.a.createElement("br",null),s.a.createElement("br",null),this.state.bugData.length?s.a.createElement("table",{id:"bugViewTable_Table",className:"table table-hover bugViewTable_Table"},s.a.createElement("thead",{id:"bugViewTable_head",className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"bugViewTable_th",scope:"col"},"Bug Title"),s.a.createElement("th",{className:"bugViewTable_th",scope:"col"},"Bug Description"),s.a.createElement("th",{className:"bugViewTable_th",scope:"col"}),s.a.createElement("th",{className:"bugViewTable_th",scope:"col"}))),s.a.createElement("tbody",null,this.state.bugData.map((function(t){return s.a.createElement("tr",{className:"bugViewTable_tr",key:t.id},s.a.createElement("td",{className:"bugViewTable_td"},t.bugTitle),s.a.createElement("td",{className:"bugViewTable_td"},t.bugDescription),s.a.createElement("td",{id:"editColumn",className:"bugViewTable_td"},s.a.createElement(E,{variant:"primary",onClick:function(){return e.editBugButton(t)}},"Edit")),s.a.createElement("td",{id:"deleteColumn",className:"bugViewTable_td"}," ",s.a.createElement(E,{variant:"primary",onClick:function(){return e.deleteBugButton(t)}},"Delete")))})))):s.a.createElement("h3",null," No Results to Display "),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(E,{type:"button",className:"btn btn-primary",onClick:this.createNewBugButton},"Create New Bug"),s.a.createElement(j.a,{show:this.state.showModal,animation:!1},s.a.createElement(j.a.Header,null,s.a.createElement(j.a.Title,null,this.state.currentModalTitle)),s.a.createElement(j.a.Body,null,s.a.createElement("p",null,"Bug Title"),s.a.createElement(f,{onBlur:this.formatInput.bind(this),value:this.state.bugTitleInModal,id:"bugTitleInModal",onChange:this.handleChange.bind(this),name:"bugTitleInModal"}),s.a.createElement(B,{label:"Bug Description",onBlur:this.formatInput.bind(this),value:this.state.bugDescriptionInModal,id:"bugDescriptionInModal",onChange:this.handleChange.bind(this),name:"bugDescriptionInModal"})),s.a.createElement(j.a.Footer,null,s.a.createElement(E,{variant:"secondary",onClick:this.closeModal},"Close"),s.a.createElement(E,{variant:"primary",onClick:this.updateOrCreateBug},"Save Changes"))))))}}]),a}(n.Component),M=(a(69),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).formatInput=function(e){var t=e.target.getAttribute("name");n.setState(Object(m.a)({},t,e.target.value.trim()))},n.state={bugTitle:"",bugDescription:"",sampleBugViewTableData:[{id:"1",BugTitle:"Title A",BugDescription:"Test A"},{id:"2",BugTitle:"Title B",BugDescription:"Test B"},{id:"3",BugTitle:"Title C",BugDescription:"Test C"}]},n}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){return s.a.createElement(p,{id:"containerViewBugs",fluid:"true"},s.a.createElement(b,{id:"mainRow"},s.a.createElement(h,{size:"sm-12"},s.a.createElement("div",{className:"jumbotron jumbotron-fluid"},s.a.createElement(p,{id:"container",fluid:"true"},s.a.createElement("h1",{className:"display-4 BugTrackerTitle"},"Create Bug Task"))),s.a.createElement("p",null,"Bug Title"),s.a.createElement(f,{onBlur:this.formatInput.bind(this),value:this.state.emailAddress,id:"BugTitle",onChange:this.handleChange.bind(this),name:"BugTitle"}),s.a.createElement(B,{label:"Bug Description",onBlur:this.formatInput.bind(this),value:this.state.emailAddress,id:"BugDescription",onChange:this.handleChange.bind(this),name:"BugDescription"}),s.a.createElement(E,null,"Save Bug"),s.a.createElement(E,null,"View Bugs"))))}}]),a}(n.Component)),_=(a(70),a(15)),L=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).formatInput=function(e){var t=e.target.getAttribute("name");n.setState(Object(m.a)({},t,e.target.value.trim()))},n.state={firstName:"",loggedIn:n.props.loggedIn,redirectTo:null,userData:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){return s.a.createElement(p,{id:"containerViewBugs",fluid:"true"},s.a.createElement(b,{id:"mainRow"},s.a.createElement(h,{size:"sm-12"},s.a.createElement("div",{className:"jumbotron jumbotron-fluid"},s.a.createElement(p,{id:"container",fluid:"true"},s.a.createElement("h1",{className:"display-4 BugTrackerTitle"},"Welcome, ",this.props.user,"!"))),s.a.createElement(_.b,{to:"/bug-view",className:"log"},s.a.createElement(E,null,"View Bugs")))))}}]),a}(n.Component),F=Object(g.g)(L),P=(a(71),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={loggedIn:!1,user:null,password:null,redirectTo:null},e._login=e._login.bind(Object(u.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;I().then((function(t){t.data.user?(console.log("Attempt to login on App.js from componentDidMount"),console.log(t.data),e.setState({loggedIn:!0,user:t.data.user,userId:t.data.user._id}),console.log("login passed!! User is not authenticated. (App.js - componentDidMount)")):(console.log("Login failed!!! User is not authenticated. (App.js - componentDidMount)"),e.setState({loggedIn:!1,user:null}))}))}},{key:"_login",value:function(e,t){var a=this;console.log("I called _login from App.js"),T({username:e,password:t}).then((function(e){console.log("attempt to login from app.js _login"),console.log(e),200===e.status&&(console.log("ATTEMPTING TO CONSOLE LOG EMAIL IN _LOGIN IN App.js"),console.log(e.data),e.data.loggedInSuccess?(console.log(e),a.setState({loggedIn:!0,username:e.data.username,password:e.data.password,redirectTo:"/profile"})):(console.log("logged in FAILED!!!"),console.log(e),a.setState({loggedIn:!1})))}))}},{key:"render",value:function(){var e=this;return this.state.loggedIn?(console.log("redirectTO has been called!!!"),console.log(this.state.redirectTo),s.a.createElement("div",{className:"App"},s.a.createElement("div",null,s.a.createElement(g.a,{exact:!0,to:{pathname:this.state.redirectTo},render:function(){return s.a.createElement(V,{_login:e._login})}}),s.a.createElement(g.b,{exact:!0,path:"/landing-page",render:function(){return s.a.createElement(V,{_login:e._login})}}),s.a.createElement(g.b,{exact:!0,path:"/bug-view",component:y}),s.a.createElement(g.b,{exact:!0,path:"/create-bug",component:M}),s.a.createElement(g.b,{exact:!0,path:"/profile",render:function(){return s.a.createElement(F,{loggedIn:e.state.loggedIn,user:e.state.username})}}),s.a.createElement(g.b,{exact:!0,path:"/",render:function(){return s.a.createElement(g.a,{to:"/landing-page"})}})))):s.a.createElement("div",{className:"App"},s.a.createElement("div",null,s.a.createElement(g.b,{exact:!0,path:"/landing-page",render:function(){return s.a.createElement(V,{_login:e._login})}}),s.a.createElement(g.b,{exact:!0,path:"/",render:function(){return s.a.createElement(g.a,{to:"/landing-page"})}}),s.a.createElement(g.a,{from:"*",to:"/landing-page"})))}}]),a}(n.Component));r.a.render(s.a.createElement(_.a,null,s.a.createElement(g.d,null,s.a.createElement(g.b,{component:P}))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.c05657cc.chunk.js.map